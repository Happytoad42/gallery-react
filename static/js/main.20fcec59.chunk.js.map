{"version":3,"sources":["consts.js","components/ImageItem/index.js","components/ImageItem/ImageItem.js","components/ImageList/ImageList.js","components/ImageList/index.js","components/ImageModal/ImageModal.js","components/ImageModal/index.js","components/GitHubLink/index.js","components/GitHubLink/GitHubLink.js","App.js","index.js","reducer.js"],"names":["TYPES","ImageItem","author","id","url","onImageClick","onClick","className","src","alt","ImageList","loadImages","props","imagesLoaded","currentPage","loadingFinished","axios","get","then","result","data","map","image","download_url","res","handleImageclick","targetImage","images","find","handleLoadMoreImages","this","loadingStarted","loading","key","Component","connect","activeImage","dispatch","payload","type","ImageModal","modalClosed","useEffect","document","body","style","overflow","GitHubLink","href","target","noopener","noreferrer","height","viewBox","width","class","d","fill","data-original","data-old_color","App","globalStore","createStore","state","action","window","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","store","getElementById"],"mappings":"0UAAaA,EACM,gBADNA,EAGQ,kBAHRA,EAIS,mBAJTA,EAKO,iBALPA,EAMK,e,4CCJHC,G,MCEU,SAAC,GAAsC,IAArCC,EAAoC,EAApCA,OAAQC,EAA4B,EAA5BA,GAAIC,EAAwB,EAAxBA,IAAKC,EAAmB,EAAnBA,aAExC,OACI,yBAAKC,QAAS,kBAAMD,EAAaF,IAAKI,UAAU,cAC5C,yBAAKA,UAAU,qBACX,yBAAKC,IAAKJ,EAAKK,IAAK,WAAaP,KAErC,yBAAKK,UAAU,oBACX,2BAAI,YAAcL,O,gBCJ5BQ,G,iNAEFC,WAAa,WAAO,IAAD,EACwC,EAAKC,MAApDC,EADO,EACPA,aAAcC,EADP,EACOA,YAAaC,EADpB,EACoBA,gBACnCC,IAAMC,IAAN,6CAAgDH,IAC/CI,MAAK,SAAAC,GAAM,OAAIA,EAAOC,KAAKC,KAAK,SAAAC,GAAK,MAAK,CACvCnB,GAAImB,EAAMnB,GACVD,OAAQoB,EAAMpB,OACdE,IAAKkB,EAAMC,oBAEdL,MAAK,SAAAM,GACFX,EAAaW,GACbT,Q,EASRU,iBAAmB,SAACtB,GAChB,IAAMuB,EAAc,EAAKd,MAAMe,OAAOC,MAAK,SAAAN,GAAK,OAAIA,EAAMnB,KAAOA,KACjE,EAAKS,MAAMP,aAAaqB,I,EAG5BG,qBAAuB,WAAO,IAAD,EACa,EAAKjB,MAAnCC,EADiB,EACjBA,aAAcC,EADG,EACHA,YACtBE,IAAMC,IAAN,6CAAgDH,IAC3CI,MAAK,SAAAC,GAAM,OAAIA,EAAOC,KAAKC,KAAK,SAAAC,GAAK,MAAK,CACvCnB,GAAImB,EAAMnB,GACVD,OAAQoB,EAAMpB,OACdE,IAAKkB,EAAMC,oBACVL,MAAK,SAAAM,GACNX,EAAaW,O,oFAjBrBM,KAAKlB,MAAMmB,iBACXD,KAAKnB,e,+BAsBC,IAAD,SAGuBmB,KAAKlB,MAAzBoB,EAHH,EAGGA,QAASL,EAHZ,EAGYA,OAEjB,OAAIK,EAEI,yBAAKzB,UAAU,cAAf,qBAOA,yBAAKA,UAAU,cACX,wBAAIA,UAAU,oBACToB,EAAON,KAAI,gBAAGlB,EAAH,EAAGA,GAAID,EAAP,EAAOA,OAAQE,EAAf,EAAeA,IAAf,OACR,wBAAI6B,IAAM9B,GACN,kBAAC,EAAD,CAAWE,aAAc,EAAKoB,iBAAkBtB,GAAIA,EAAID,OAASA,EAASE,IAAMA,SAI5F,4BAAQE,QAAS,kBAAM,EAAKuB,wBAAwBtB,UAAU,mBAA9D,yB,GA9DI2B,cAoGTC,IC1GAzB,ED0GAyB,aA7Bf,YACI,MAAO,CACHR,OAF8D,EAA5CA,OAGlBb,YAH8D,EAApCA,YAI1BsB,YAJ8D,EAAvBA,YAKvCJ,QAL8D,EAAVA,YAS5D,SAA4BK,GACxB,MAAO,CACHxB,aAAc,SAAAyB,GAAO,OAAID,EAAS,CAC9BE,KAAMvC,EACNsC,aAEJjC,aAAc,SAAAiC,GAAO,OAAID,EAAS,CAC9BE,KAAMvC,EACNsC,aAEJP,eAAgB,kBAAMM,EAAS,CAC3BE,KAAMvC,KAEVe,gBAAiB,kBAAMsB,EAAS,CAC5BE,KAAMvC,QAMHmC,CAA4CzB,G,ME9D5CyB,IC5CAK,ED4CAL,aAdf,YACC,MAAO,CACNC,YAFwC,EAAfA,gBAM3B,SAA4BC,GAC3B,MAAO,CACNI,YAAa,kBAAMJ,EAAS,CAClBE,KAAMvC,QAKHmC,EAxCI,SAAC,GAAkC,IAAhCC,EAA+B,EAA/BA,YAAaK,EAAkB,EAAlBA,YAYlC,OAVGC,qBAAU,WACFN,IACAO,SAASC,KAAKC,MAAMC,SAAW,UAInCH,SAASC,KAAKC,MAAMC,SAAW,UAIlCV,EAEF,yBAAK7B,UAAU,mCACd,yBAAKA,UAAU,0BACd,yBAAKA,UAAU,gCACI,yBAAKC,IAAK4B,EAAYhC,IAAKK,IAAK,YAAc2B,EAAYlC,UAE7E,0BAAMI,QAAS,kBAAMmC,KAAelC,UAAU,yBAIzC,QE3BKwC,G,MCEI,WAClB,OACC,uBAAGC,KAAK,+CAA+CzC,UAAU,cAAc0C,OAAO,SAASC,UAAQ,EAACC,YAAU,GACjH,mHACA,yBAAMC,OAAO,OAAOC,QAAQ,YAAYC,MAAM,OAAOC,MAAM,IAC1D,2BACC,0BACCC,EAAE,2uBACFC,KAAK,UACLC,gBAAc,UACdH,MAAM,cACNI,iBAAe,iB,MCENC,MAVf,WACE,OACE,yBAAKrD,UAAU,OACb,kBAAC,EAAD,MACA,kBAAC,EAAD,MACA,kBAAC,EAAD,QCEAsD,EAAcC,aCZL,SAAkBC,EAAOC,GACpC,OAAOA,EAAOzB,MACV,KAAKvC,EACD,OAAO,eACA+D,EADP,CAEI/B,SAAS,IAEjB,KAAKhC,EACD,OAAO,eACA+D,EADP,CAEI/B,SAAS,IAEjB,KAAKhC,EACD,OAAO,eACA+D,EADP,CAEIpC,OAAO,GAAD,mBAAMoC,EAAMpC,QAAZ,YAAuBqC,EAAO1B,UACpCxB,YAAaiD,EAAMjD,YAAc,IAEzC,KAAKd,EACD,OAAO,eACA+D,EADP,CAEI3B,YAAa4B,EAAO1B,UAE5B,KAAKtC,EACD,OAAO,eACA+D,EADP,CAEI3B,YAAa,OAErB,QACI,OAAO2B,KDxBE,CACjBpC,OAAQ,GACRb,YAAa,EACbsB,YAAa,KACbJ,SAAS,GAKTiC,OAAOC,8BAAgCD,OAAOC,gCAGlDC,IAASC,OACL,kBAAC,IAAD,CAAUC,MAAOR,GACb,kBAAC,EAAD,OAERlB,SAAS2B,eAAe,W","file":"static/js/main.20fcec59.chunk.js","sourcesContent":["export const TYPES = {\r\n    IMAGES_LOADED: 'IMAGES_LOADED',\r\n    IMAGE_CLICK: 'IMAGE_CLICK',\r\n    LOADING_STARTED: 'LOADING_STARTED',\r\n    LOADING_FINISHED: 'LOADING_FINISHED',\r\n    IMAGE_SELECTED: 'IMAGE_SELECTED',\r\n    MODAL_CLOSED: 'MODAL_CLOSED'\r\n}","import ImageItem from './ImageItem'\r\n\r\nexport default ImageItem;","import React from 'react';\r\n\r\nimport './ImageItem.css'\r\n\r\nexport const ImageItem = ({author, id, url, onImageClick }) => {\r\n\r\n    return (\r\n        <div onClick={() => onImageClick(id)} className=\"image-item\">\r\n            <div className=\"image-item__image\">\r\n                <img src={url} alt={\"Image by\" + author} />\r\n            </div>\r\n            <div className=\"image-item__foot\">\r\n                <p>{'Image by ' + author}</p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default ImageItem;\r\n","import React, { Component } from 'react'\r\nimport ImageItem from '../ImageItem'\r\nimport axios from 'axios'\r\nimport { connect } from 'react-redux'\r\nimport { TYPES } from '../../consts'\r\n\r\nimport './ImageList.css'\r\n\r\nclass ImageList extends Component {\r\n\r\n    loadImages = () => {\r\n        const { imagesLoaded, currentPage, loadingFinished } = this.props;\r\n        axios.get(`https://picsum.photos/v2/list?page=${currentPage}`)\r\n        .then(result => result.data.map( image => ({\r\n            id: image.id,\r\n            author: image.author,\r\n            url: image.download_url\r\n        })))\r\n        .then(res => {\r\n            imagesLoaded(res);\r\n            loadingFinished();\r\n        });\r\n    }\r\n\r\n    componentWillMount() {\r\n        this.props.loadingStarted();\r\n        this.loadImages()              \r\n    }\r\n\r\n    handleImageclick = (id) => {    \r\n        const targetImage = this.props.images.find(image => image.id === id); \r\n        this.props.onImageClick(targetImage)\r\n    }\r\n\r\n    handleLoadMoreImages = () => {\r\n        const { imagesLoaded, currentPage } = this.props;\r\n        axios.get(`https://picsum.photos/v2/list?page=${currentPage}`)\r\n            .then(result => result.data.map( image => ({\r\n                id: image.id,\r\n                author: image.author,\r\n                url: image.download_url\r\n            }))).then(res => {\r\n                imagesLoaded(res);\r\n            });\r\n    }\r\n\r\n    \r\n    \r\n    render() {        \r\n        \r\n        \r\n        const { loading, images } = this.props;        \r\n       \r\n        if (loading) {\r\n            return (\r\n                <div className=\"image-list\">\r\n                    Images loading...\r\n                </div>\r\n            )\r\n        } else {\r\n\r\n            return (\r\n                <div className=\"image-list\">\r\n                    <ul className=\"image-list__list\">\r\n                        {images.map(({ id, author, url }) => (\r\n                            <li key={ id }>\r\n                                <ImageItem onImageClick={this.handleImageclick} id={id} author={ author } url={ url }/>\r\n                            </li>))\r\n                        }\r\n                    </ul>\r\n                    <button onClick={() => this.handleLoadMoreImages()} className=\"image-list_load\">Load more images</button>\r\n                </div>\r\n            )\r\n        }        \r\n        \r\n    \r\n    }\r\n}\r\n\r\nfunction mapStateToProps({images, currentPage, activeImage, loading}) {\r\n    return {\r\n        images,\r\n        currentPage,\r\n        activeImage,\r\n        loading\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        imagesLoaded: payload => dispatch({\r\n            type: TYPES.IMAGES_LOADED,\r\n            payload\r\n        }),\r\n        onImageClick: payload => dispatch({\r\n            type: TYPES.IMAGE_SELECTED,\r\n            payload\r\n        }),\r\n        loadingStarted: () => dispatch({\r\n            type: TYPES.LOADING_STARTED\r\n        }),\r\n        loadingFinished: () => dispatch({\r\n            type: TYPES.LOADING_FINISHED\r\n        }),\r\n    }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(ImageList);\r\n\r\n","import ImageList from './ImageList'\r\n\r\nexport default ImageList;","import React, { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { TYPES } from '../../consts';\r\n\r\nimport './ImageModal.css';\r\n\r\nconst ImageModal = ({ activeImage, modalClosed }) => {\r\n\r\n    useEffect(() => {\r\n        if (activeImage) {\r\n            document.body.style.overflow = 'hidden';\r\n\r\n        }\r\n\r\n        document.body.style.overflow = 'auto';\r\n    });\r\n\r\n\r\n\tif (activeImage) {\r\n\t\treturn (\r\n\t\t\t<div className=\"image-modal image-modal--active\">\r\n\t\t\t\t<div className=\"image-modal__container\">\r\n\t\t\t\t\t<div className=\"image-modal__image-container\">\r\n                        <img src={activeImage.url} alt={'Image by ' + activeImage.author} />\r\n                    </div>\r\n\t\t\t\t\t<span onClick={() => modalClosed()} className=\"image-modal__close\" />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t} return null\r\n};\r\n\r\nfunction mapStateToProps({ activeImage }) {\r\n\treturn {\r\n\t\tactiveImage\r\n\t};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tmodalClosed: () => dispatch({\r\n            type: TYPES.MODAL_CLOSED\r\n        }),\r\n\t};\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ImageModal);\r\n","import ImageModal from './ImageModal'\r\n\r\nexport default ImageModal","import GitHubLink from './GitHubLink';\r\n\r\nexport default GitHubLink;","import React from 'react';\r\n\r\nimport './GitHubLink.css';\r\n\r\nconst GitHubLink = () => {\r\n\treturn (\r\n\t\t<a href=\"https://github.com/Happytoad42/gallery-react\" className=\"github-link\" target=\"_blank\" noopener noreferrer>\r\n\t\t\t<span>Код проекта на GitHub</span>\r\n\t\t\t<svg  height=\"30px\" viewBox=\"0 0 25 25\" width=\"30px\" class=\"\">\r\n\t\t\t\t<g>\r\n\t\t\t\t\t<path\r\n\t\t\t\t\t\td=\"m12 .5c-6.63 0-12 5.28-12 11.792 0 5.211 3.438 9.63 8.205 11.188.6.111.82-.254.82-.567 0-.28-.01-1.022-.015-2.005-3.338.711-4.042-1.582-4.042-1.582-.546-1.361-1.335-1.725-1.335-1.725-1.087-.731.084-.716.084-.716 1.205.082 1.838 1.215 1.838 1.215 1.07 1.803 2.809 1.282 3.495.981.108-.763.417-1.282.76-1.577-2.665-.295-5.466-1.309-5.466-5.827 0-1.287.465-2.339 1.235-3.164-.135-.298-.54-1.497.105-3.121 0 0 1.005-.316 3.3 1.209.96-.262 1.98-.392 3-.398 1.02.006 2.04.136 3 .398 2.28-1.525 3.285-1.209 3.285-1.209.645 1.624.24 2.823.12 3.121.765.825 1.23 1.877 1.23 3.164 0 4.53-2.805 5.527-5.475 5.817.42.354.81 1.077.81 2.182 0 1.578-.015 2.846-.015 3.229 0 .309.21.678.825.56 4.801-1.548 8.236-5.97 8.236-11.173 0-6.512-5.373-11.792-12-11.792z\"\r\n\t\t\t\t\t\tfill=\"#ECEFF1\"\r\n\t\t\t\t\t\tdata-original=\"#212121\"\r\n\t\t\t\t\t\tclass=\"active-path\"\r\n\t\t\t\t\t\tdata-old_color=\"#212121\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</g>\r\n\t\t\t</svg>\r\n\t\t</a>\r\n\t);\r\n};\r\n\r\nexport default GitHubLink;\r\n","import React from 'react';\nimport ImageList from './components/ImageList'\nimport ImageModal from './components/ImageModal';\nimport GitHubLink from './components/GitHubLink';\n\nimport './App.css';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <GitHubLink />\n      <ImageList />\n      <ImageModal/>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { createStore } from 'redux'\nimport reducer from './reducer'\nimport App from './App';\n\nconst initialState = {\n    images: [],\n    currentPage: 1,\n    activeImage: null,\n    loading: false\n}\n\nconst globalStore = createStore(\n    reducer, initialState,\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n);\n\nReactDOM.render(\n    <Provider store={globalStore}>\n        <App />\n    </Provider>, \ndocument.getElementById('root'));","import { TYPES } from './consts'\r\n\r\nexport default function reducer (state, action) {\r\n    switch(action.type) {\r\n        case TYPES.LOADING_STARTED: \r\n            return {\r\n                ...state,\r\n                loading: true\r\n            }\r\n        case TYPES.LOADING_FINISHED: \r\n            return {\r\n                ...state,\r\n                loading: false,            }\r\n        \r\n        case TYPES.IMAGES_LOADED: \r\n            return {\r\n                ...state,\r\n                images: [...state.images, ...action.payload],\r\n                currentPage: state.currentPage + 1,\r\n            }\r\n        case TYPES.IMAGE_SELECTED: \r\n            return {\r\n                ...state,\r\n                activeImage: action.payload,\r\n            }\r\n        case TYPES.MODAL_CLOSED:\r\n            return {\r\n                ...state,\r\n                activeImage: null\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}"],"sourceRoot":""}