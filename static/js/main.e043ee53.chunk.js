(this["webpackJsonpreact-gallery"]=this["webpackJsonpreact-gallery"]||[]).push([[0],{26:function(e,a,t){e.exports=t(58)},37:function(e,a,t){},55:function(e,a,t){},56:function(e,a,t){},57:function(e,a,t){},58:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(4),i=t.n(c),o=t(2),l=t(5),u=t(10),m=t(3),s="IMAGES_LOADED",d="LOADING_STARTED",g="LOADING_FINISHED",p="IMAGE_SELECTED",f="MODAL_CLOSED";var E=t(21),v=t(22),h=t(24),_=t(23),I=t(25),b=(t(37),function(e){var a=e.author,t=e.id,n=e.url,c=e.onImageClick;return r.a.createElement("div",{onClick:function(){return c(t)},className:"image-item"},r.a.createElement("div",{className:"image-item__image"},r.a.createElement("img",{src:n,alt:"Image by"+a})),r.a.createElement("div",{className:"image-item__foot"},r.a.createElement("p",null,"Image by "+a)))}),O=t(9),y=t.n(O),N=(t(55),function(e){function a(){var e,t;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=Object(h.a)(this,(e=Object(_.a)(a)).call.apply(e,[this].concat(r)))).loadImages=function(){var e=t.props,a=e.imagesLoaded,n=e.currentPage,r=e.loadingFinished;y.a.get("https://picsum.photos/v2/list?page=".concat(n)).then((function(e){return e.data.map((function(e){return{id:e.id,author:e.author,url:e.download_url}}))})).then((function(e){a(e),r()}))},t.handleImageclick=function(e){var a=t.props.images.find((function(a){return a.id===e}));t.props.onImageClick(a)},t.handleLoadMoreImages=function(){var e=t.props,a=e.imagesLoaded,n=e.currentPage;y.a.get("https://picsum.photos/v2/list?page=".concat(n)).then((function(e){return e.data.map((function(e){return{id:e.id,author:e.author,url:e.download_url}}))})).then((function(e){a(e)}))},t}return Object(I.a)(a,e),Object(v.a)(a,[{key:"componentWillMount",value:function(){this.props.loadingStarted(),this.loadImages()}},{key:"render",value:function(){var e=this,a=this.props,t=a.loading,n=a.images;return t?r.a.createElement("div",{className:"image-list"},"Images loading..."):r.a.createElement("div",{className:"image-list"},r.a.createElement("ul",{className:"image-list__list"},n.map((function(a){var t=a.id,n=a.author,c=a.url;return r.a.createElement("li",{key:t},r.a.createElement(b,{onImageClick:e.handleImageclick,id:t,author:n,url:c}))}))),r.a.createElement("button",{onClick:function(){return e.handleLoadMoreImages()},className:"image-list_load"},"Load more images"))}}]),a}(n.Component));var j=Object(o.b)((function(e){return{images:e.images,currentPage:e.currentPage,activeImage:e.activeImage,loading:e.loading}}),(function(e){return{imagesLoaded:function(a){return e({type:s,payload:a})},onImageClick:function(a){return e({type:p,payload:a})},loadingStarted:function(){return e({type:d})},loadingFinished:function(){return e({type:g})}}}))(N);t(56),t(57);var k=Object(o.b)((function(e){return{activeImage:e.activeImage}}),(function(e){return{modalClosed:function(){return e({type:f})}}}))((function(e){var a=e.activeImage,t=e.modalClosed;return Object(n.useEffect)((function(){a&&(document.body.style.overflow="hidden"),document.body.style.overflow="auto"})),a?r.a.createElement("div",{className:"image-modal image-modal--active"},r.a.createElement("div",{className:"image-modal__container"},r.a.createElement("div",{className:"image-modal__image-container"},r.a.createElement("img",{src:a.url,alt:"Image by "+a.author})),r.a.createElement("span",{onClick:function(){return t()},className:"image-modal__close"}))):null}));var L=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(j,null),r.a.createElement(k,null))},D=Object(l.b)((function(e,a){switch(a.type){case d:return Object(m.a)({},e,{loading:!0});case g:return Object(m.a)({},e,{loading:!1});case s:return Object(m.a)({},e,{images:[].concat(Object(u.a)(e.images),Object(u.a)(a.payload)),currentPage:e.currentPage+1});case p:return Object(m.a)({},e,{activeImage:a.payload});case f:return Object(m.a)({},e,{activeImage:null});default:return e}}),{images:[],currentPage:1,activeImage:null,loading:!1},window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());i.a.render(r.a.createElement(o.a,{store:D},r.a.createElement(L,null)),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.e043ee53.chunk.js.map